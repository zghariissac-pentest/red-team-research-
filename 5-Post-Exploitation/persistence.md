# Persistence

Persistence is the process of maintaining long-term access after the initial compromise. A good persistence method must be reliable, hard to detect, and easy to remove when the operation ends. The priority is to blend into the systemâ€™s normal behavior and avoid any mechanism that creates obvious forensic artifacts.

## Goals

Survive reboots

Maintain remote access

Reduce detection risk

Avoid system instability

Keep a clean operational footprint

## Approaches
### Account-based persistence

Creating or modifying user accounts is simple but noisy. It should only be used when stealth is not the priority.
Examples include:

Adding a hidden local admin

Modifying group memberships

Using expired or disabled accounts that remain functional

This method is easy to detect through logs and policy checks.

### Scheduled tasks

Scheduled tasks provide reliable execution at specific times or on system events.
They blend well with administrative workflows when configured with natural names and standard paths.

### Registry autoruns

Windows offers several autorun locations.
They allow execution on startup or user login.
These entries must be placed carefully to avoid detection by autorun scanners.

### Service manipulation

Services can load custom binaries or modified parameters at startup.
Using names that mimic legitimate system components significantly improves stealth.

### Application hijacking

Hijacking paths such as search order, DLL loads, or application configuration files can provide persistence without touching core system components.
This method is harder to detect but requires accurate testing.

### WMI persistence

WMI event subscriptions allow execution triggered by system activity such as logins or process creation.
They are stealthier because they do not rely on classic autorun mechanisms.

### Cloud persistence

In hybrid environments, persistence can exist in Azure AD, Intune, or identity tokens.
Cloud persistence usually survives workstation cleanup.

### Opsec notes

Use minimal writes to the system

Prefer techniques already used by legitimate software

Clean up installation artifacts

Avoid persistence on high-visibility endpoints

Test reliability before deploying it widely

Tools
PowerShell quick persistence check
```
Get-ScheduledTask
Get-WmiObject -Class Win32_Process
reg query HKCU\Software\Microsoft\Windows\CurrentVersion\Run
Get-Service
```







